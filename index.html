<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nexus Planner | Collaborative Edition</title>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>

  <div id="loading-overlay">
    <div class="loader"></div>
    <p class="loading-text">Nexus Syncing...</p>
  </div>

  <div id="notification-center"></div>

  <div class="container">
    <header>
      <div class="logo-section">
        <h1><i data-lucide="shield" style="color: var(--accent)"></i> NEXUS<span>PLANNER</span></h1>
      </div>
      <div style="display: flex; gap: 12px; align-items: center;">
        <button class="btn-icon" id="theme-toggle" title="Toggle Theme">
          <i data-lucide="moon"></i>
        </button>
      </div>
    </header>

    <div class="dashboard-grid">

      <!-- Left Sidebar -->
      <aside>

        <div class="profile-card" id="user-profile">
          <div class="profile-avatar">
            <i data-lucide="user" size="32"></i>
          </div>
          <div class="profile-name" id="display-name">Guest User</div>
          <div class="profile-id" id="display-uid">----------------</div>

          <div class="online-badge">
            <span class="online-dot"></span>
            ONLINE
          </div>
        </div>

        <!-- Shared Notepad -->
        <div class="card card-small">
          <div class="card-title"><i data-lucide="edit-3" size="16"></i> Nexus Common</div>
          <textarea id="public-notepad" class="notepad-area" placeholder="Share a thought with the nexus..."></textarea>
          <div class="notepad-footer">
            <span id="notepad-status">Synced</span>
            <span id="notepad-user">Nobody editing</span>
          </div>
        </div>

        <!-- Reminder -->
        <div class="card card-small">
          <div class="card-title"><i data-lucide="bell" size="16"></i> My Reminders</div>

          <div class="reminder-input-container">
            <input type="text" id="reminder-text" placeholder="What needs doing?" class="small-input">

            <div class="reminder-row">
              <input type="datetime-local" id="reminder-datetime" class="small-date">
              <button id="add-reminder" class="btn-primary btn-small">
                <i data-lucide="plus" size="16"></i>
              </button>
            </div>
          </div>

          <div id="reminders-list"></div>
        </div>

        <!-- Active Users -->
        <div class="card card-small">
          <div class="card-title"><i data-lucide="users" size="16"></i> Active Peers</div>
          <div id="users-list">
            <p class="muted-text">Connecting...</p>
          </div>
        </div>

      </aside>

      <!-- Main -->
      <main>

        <div class="card">
          <div class="card-title"><i data-lucide="plus-square" size="16"></i> New Mission</div>

          <form id="shared-task-form" class="task-form">
            <div class="grid-3">
              <input type="text" id="m-name" placeholder="Title..." required>
              <select id="m-subject" required>
                <option value="" disabled selected>Subject</option>
                <option>Maths</option>
                <option>Physics</option>
                <option>ITKS</option>
                <option>COA</option>
                <option>DS</option>
                <option>OOP</option>
                <option>LLC</option>
              </select>
              <input type="date" id="m-date" required>
            </div>

            <div class="grid-3b">
              <select id="m-category" required>
                <option value="" disabled>Format</option>
                <option value="Assignment" selected>Assignment</option>
                <option value="Project">Project</option>
                <option value="Exam">Exam</option>
                <option value="Test">Test</option>
                <option value="Self Study">Self Study</option>
              </select>

              <input type="url" id="m-file-url" placeholder="Resource Link (Optional)">
              <button type="submit" class="btn-primary btn-wide">Post to Ledger</button>
            </div>
          </form>
        </div>

        <div class="card">
          <div class="card-title"><i data-lucide="database" size="16"></i> Global Ledger</div>

          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Mission</th>
                  <th>Subject</th>
                  <th>Deadline</th>
                  <th>Details</th>
                  <th>Author</th>
                  <th width="40"></th>
                </tr>
              </thead>
              <tbody id="shared-tasks-list"></tbody>
            </table>

            <div id="empty-state" class="empty-state">
              <p>No active missions found in the nexus.</p>
            </div>
          </div>
        </div>

      </main>
    </div>
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>
